<style>
  .popsheid-cnt {
    background: #dddddd;
  }
  .popsheid-cnt h6 {
    padding: 10px;
    background: #555555;
    color: white;
  }
  .popsheid-cnt div {
    padding: 10px;
  }
</style>
{%- assign current_variant = product.selected_or_first_available_variant -%} 
{%- assign featured_image = current_variant.featured_image | default: product.featured_image -%}
{%- assign product_image_zoom_size = '1024x1024' -%}
{%- assign zoom_enabled = section.settings.zoom_product -%}

<div itemscope itemtype="http://schema.org/Product" id="prod-{{product.id}}" class="clearfix" data-section-id="{{ section.id }}" data-section-type="product"{% if section.settings.show_preorder %} data-show-preorder="yes"{% endif %}{% if section.settings.show_inventory %} data-show-inventory="yes"{% endif %}{% if zoom_enabled %} data-zoom-enabled="true"{% endif%}>{% render 'preorder-now-collection-item', product: product %}

  <meta itemprop="name" content="{{ product.title }}">
  <meta itemprop="url" content="{{ shop.url }}{{ product.url }}">
  <meta itemprop="image" content="{{ product.featured_image.src | img_url: '800x' }}">

  <h1 class="page-title">{{ product.title | escape}}</h1>   

  <div id="product-images" class="clearfix{% if product.images.size > 1%} multi-image{% else %} single-image{% endif %}">
    <a id="product-shot" class="productimage" data-image-id="{{featured_image.id}}" href="{{ featured_image | img_url: 'master' }}">
      <img src="{{ featured_image | img_url: product_image_zoom_size }}" alt="{{ featured_image.alt | escape }}" />
      {% if product.compare_at_price > product.price %}
        {% if section.settings.show_sale_sticker %}
        <span class="sale round">{{ 'products.general.sale' | t }}</span>
        {% endif %}
      {% endif %}
      <span class="icon-magnifier"></span>
    </a>

    <div id="more-images" class="product-thumbs-{{section.id}} clearfix" data-arrow-left="{% include 'icon-arrowleft'%}" data-arrow-right="{% include 'icon-arrowright'%}">   
      {% for image in product.images %}
        {%- assign active_image = "" -%}
        {%- if featured_image == image -%}
          {%- assign active_image = "active-img" -%}
        {%- endif -%}
        <a href="{{ image | product_img_url: product_image_zoom_size }}" class="{{active_image}} productimage smallimg{% if section.settings.mobile_hide_prd_images %} hide-for-mobile{% endif %}" data-image-index="{{forloop.index0}}" title="{{product.title | escape }}" data-image-id="{{ image.id }}">
        <img src="{{ image | product_img_url: 'compact'}}" alt="{{ image.alt | escape }}" />
        </a>
      {% endfor %}
    </div>      
  </div>  

  <div id="product-details">
    

{% assign product_vendor_handle = product.vendor | handle %}
    {% if collections[product_vendor_handle].handle == product_vendor_handle %}
      {% assign vendor_url = collections[product_vendor_handle].url %}
    {% else %}
      {% assign vendor_url = product.vendor | url_for_vendor %}
    {% endif %}

    <h2 itemprop="brand" class="{% unless section.settings.show_vendor %}hide{% endunless%}">{{ product.vendor | link_to: vendor_url }}</h2>  

    <div class="product-price-wrap" itemprop="offers" itemscope itemtype="http://schema.org/Offer">
      <meta itemprop="priceCurrency" content="{{ shop.currency }}" />
      {% if product.available %}
        <link itemprop="availability" href="http://schema.org/InStock" />
      {% else %}
        <link itemprop="availability" href="http://schema.org/OutOfStock" />
      {% endif %}
      {% if product.compare_at_price > product.price %}
        <span id="productPrice-{{ section.id }}" class="product-price on-sale" itemprop="price" content="{{ current_variant.price | money_without_currency }}"><span class=price-money>{{ current_variant.price | money }}</span></span>&nbsp;<s id="comparePrice-{{ section.id }}" class="product-compare-price"><span class=price-money>{{ current_variant.compare_at_price | money }}</span></s>
      {% else %}
        <span id="productPrice-{{ section.id }}" class="product-price" itemprop="price" content="{{ current_variant.price | money_without_currency }}"><span class=price-money>{{ current_variant.price | money }}</span></span>&nbsp;<s class="product-compare-price"></s>
      {% endif %}
    </div>          
    
    {% if section.settings.show_product_sku %}
      <div id="productSKU-{{ section.id }}" class="sku-info">{% if current_variant.sku != blank %}{{'products.product.sku' | t}} {{current_variant.sku}}{% endif %}</div>
    {% endif %}
    
    <div class="popsheid-cnt hideMe">
      <h6>Additional Added:</h6>
      <div>
        <p class="metafieldText1 hideMe">{{ product.metafields.my_fields.popshield1.value.title  }}</p>
        <p class="metafieldText2 hideMe">{{ product.metafields.my_fields.popshield2.value.title  }}</p>
        <p><strong>Total Additional Cost: {{ product.metafields.my_fields.popshield1.value.price | money }}</strong></p>
      </div>
    </div>
    
    {% if product.available %}
      <form action="/cart/add" method="post" enctype="multipart/form-data" class="product-form w3-error-on-outofstock" id="AddToCartForm">
        {% if product.metafields.my_fields.popshield1 %}
          <h6>{{ product.metafields.my_fields.popshield1.value.title }}</h6>
          
          <input type="checkbox" price="{{ product.metafields.my_fields.popshield1.value.price}}" id="popshild1" name="popshield1" value="{{ product.metafields.my_fields.popshield1.value.variants[0].id}}">
        <label for="popshield1"> Yes</label>
        {% endif %}
        {% if product.metafields.my_fields.popshield2 %}
          <h6>{{ product.metafields.my_fields.popshield2.value.title }}</h6>
          
          <input type="checkbox" price="{{ product.metafields.my_fields.popshield2.value.price}}" id="popshild2" name="popshield2" value="{{ product.metafields.my_fields.popshield2.value.variants[0].id}}">
         <label for="popshield2"> Yes</label>
        {% endif %}
        <div class="product-variants">
          <fieldset>
            {% unless product.options.size == 1 and product.variants[0].title == 'Default Title' %}
              {% for option in product.options_with_values %}
                <div class="selector-wrapper js product-form__item">
                  <label {% if option.name == 'default' %}class="label--hidden" {% endif %}for="SingleOptionSelector-{{ section.id }}-{{ forloop.index0 }}">{{ option.name }}</label>
                  <select class="single-option-selector single-option-selector-{{ section.id }} product-form__input"
                  id="SingleOptionSelector-{{ forloop.index0 }}"
                  data-name="{{ option.name }}"
                  data-index="option{{ forloop.index }}">
                  {% for value in option.values %}
                    <option value="{{ value | escape }}"{% if option.selected_value == value %} selected="selected"{% endif %}>{{ value }}</option>
                  {% endfor %}
                  </select>
                </div>
              {% endfor %}
            {% endunless %}

            <select name="id" id="productSelect-{{ section.id }}" class="product-form__variants no-js">
              {% for variant in product.variants %}
                <option {% if variant == current_variant %} selected="selected" {% endif %}date-image-id="{{variant.featured_image.id}}" data-sku="{{ variant.sku }}" value="{{ variant.id }}" {% unless variant.available %} disabled="disabled" {% endunless %}>
                {% if variant.available %}
                  {{ variant.title }} - <span class=price-money>{{ variant.price | money_with_currency }}</span>
                {% else %}
                  {{ variant.title }} - {{ 'products.product.sold_out' | t }}
                {% endif %}
                </option>
              {% endfor %}
            </select>
          </fieldset>
          
        </div>
        <div class="w3-product-options" data-product-id="{{product.id}}" data-tags="{{ product.tags | join: ", " }}"></div>
        <div class="quick-actions clearfix">  
          {% if section.settings.show_qty %}
            <p class="qty-field">
              <label for="product-quantity-{{product.id}}">{{'products.product.quantity' | t}}</label>
              <input type="number" class="productQuantity" id="product-quantity-{{product.id}}" name="quantity" value="1" min="1" />
            </p>
          {% endif %} 
          
          <button 
          class="" 
          name="add"
          id="addToCartButton"
          {% unless current_variant.available %}disabled="disabled"{% endunless %}>
          <span id="addToCartText-{{ section.id }}">
            {% unless current_variant.available %}
              {{ 'products.product.sold_out' | t }}
            {% else %}
              {{ 'products.product.add_to_cart' | t }}
            {% endunless %}
         
          </span>
          </button>
        </div>
       
        
      </form>
    {% else %}
      <p><strong>{{'products.product.out_of_stock_msg' | t}}</strong></p>
    {% endif %}    

    {% if collection %}
      {% if collection.previous_product or collection.next_product %}
        <div class="product-nav clearfix">     
          {% if collection.previous_product %}
            {% capture prev_url %}{{ collection.previous_product}}#content{% endcapture %}
            <span class="left">{{ 'products.general.previous_product_html' | t | link_to: prev_url }}</span>
          {% endif %}
          {% if collection.next_product %}
            {% capture next_url %}{{ collection.next_product}}#content{% endcapture %}
            <span class="right">{{ 'products.general.next_product_html' | t | link_to: next_url }}</span>
          {% endif %}
        </div>
      {% endif %}
    {% endif %}        

    {% if section.settings.product_social %}
      <div id="share-me" class="clearfix">
        {% capture shareHeading %}{{ 'products.general.share' | t }}{% endcapture %}
        {% include 'social-sharing', share_title: product.title, share_permalink: product.url, share_image: product, share_heading:shareHeading %}
      </div>
    {% endif %}
  </div> <!-- product details -->

  <div id="product-description" class="rte" itemprop="description">
   
    {{ product.description }}
    <br>
    All individual 4-inch Pops with a purchase price of $40 or more will automatically be shipped in a PopShield protector at no additional cost. 4-inch Pops with a price of $300 or more (with the exception of Signature Series Pops) will automatically be shipping in a PopShield Armor hard protector at no extra cost* (This applies only to the price of individual Pops, not the cost of the entire order) <br><br>*There will be some exceptions, such as if the Pop doesn't fit inside an Armor or if we are out of stock. When this is the case, an Armor will not be included with your order. 
    <br><br>
    ----
<br>
    <p></p>
** A note about condition: We try our best to grade our Pops accurately so you know what to expect your Pop and its box to look like. Pops listed as an 8 out of 10 or better can be expected to have at the worst very minor shelf wear, and at best be perfectly mint. Grading is subjective and not everybody will see things the same way which is why we have a no questions asked return policy on all Pops. Please consult our <a href="https://7bucksapop.com/pages/condition-grading-guide">Condition Guide</a> if you have any questions regarding how we grade our Pops

   <br><br>  *** Sticker Disclaimer: We try our best to use accurate stock photos, meaning if the pic shows an exclusive sticker then the Pop you receive will also have the exclusive sticker. If there is no sticker in the pic then you should purchase with the understanding that the Pop you receive will have no sticker. All Pops that we sell without stickers are still 100% legitimate and authentic, but were sourced from overseas sellers located in places such as Europe and Australia where store exclusives are handled differently.

    <br><br> **** Legal disclaimer: All Pops were purchased by us on the secondary market and not directly through Funko. Therefore they are being sold as used.
    <br> 
  
  </div>

</div>  

{% if section.settings.product_related %}
  {% include 'related' %}
{% endif %}  
{% unless product.empty? %}
  <script type="application/json" id="ProductJson-{{ section.id }}">
    {{ product | json }}
  </script>
{% endunless %}

{% schema %}
  {
    "name": "Product pages",
    "settings": [
      {
        "type": "checkbox",
        "id": "show_inventory",
        "label": "Show inventory quantity",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_preorder",
        "label": "Show \"pre-order\" message",
        "default": true,
        "info": "This will only appear when a product has managed inventory that is 0 or less and still available to buy"
      },
      {
        "type": "checkbox",
        "id": "zoom_product",
        "label": "Enable image zoom",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_qty",
        "label": "Show qty box on product screen",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_product_sku",
        "label": "Show SKU",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_vendor",
        "label": "Show vendor",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "show_sale_sticker",
        "label": "Show sale sticker",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "product_social",
        "label": "Show sharing buttons",
        "default": true
      },
      {
        "type": "header",
        "content": "Related items"
      },
      {
        "type": "checkbox",
        "id": "product_related",
        "label": "Enable",
        "default": true
      },
      {
        "type": "text",
        "id": "title_related",
        "label": "Title",
        "default": "You may also like..."
      },
      {
        "type": "checkbox",
        "id": "mobile_related_items",
        "label": "Hide related items on mobile",
        "default": false
      }
    ]
  }
{% endschema %}
