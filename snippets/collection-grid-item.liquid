{% unless collection_image_size %}
  {%- assign collection_image_size = '450x450' -%}
{% endunless %}

{% if collection.empty? %}
  {% comment %}add default state for collection block in theme editor{% endcomment %}
  {% assign collection_image_url = '' %}
{% else %}
  {% if collection.image %}
    {% capture collection_image_url %}{{ collection | img_url: collection_image_size, crop: 'top' }}{% endcapture %}
  {% elsif collection.products.first %}
    {% capture collection_image_url %}{{ collection.products.first | img_url: collection_image_size, crop: 'top' }}{% endcapture %}
  {% else %}
    {% capture collection_image_url %}https://cdn.shopify.com/s/images/admin/no-image-large.gif{% endcapture %}
  {% endif %}
{% endif %}

<a class="prod-th" href="{{ collection.url }}" title="{{ collection.title | escape }}">
  <span class="thumbnail">
    {% if collection.empty? %}
      {% capture current %}{% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
      {{ 'collection-' | append: current | placeholder_svg_tag: 'placeholder-svg' }}
    {% else %}
      <img src="{{collection_image_url}}" alt="{{collection.title}}" />
    {% endif %}
  </span>
  <span class="product-title">
    <span class="title">
      {% if collection.empty? %}
        {{ 'homepage.onboarding.collection_title' | t }}
      {% else %}
        {{ collection.title }}
      {% endif %}
    </span>  
  </span>
</a> 



